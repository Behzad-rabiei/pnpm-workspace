# Lefthook 1.11.x
general:
    parallel: true

prepare-commit-msg:
    commands:
        commitzen:
            interactive: true
            run: pnpm cz --hook
            env:
                LEFTHOOK: 0
commit-msg:
    commands:
        'lint commit message':
            run: pnpm exec commitlint --edit {1}
pre-commit:
    commands:
        code-quality:
            run: pnpm check
pre-push:
    commands:
        code-quality:
            run: pnpm check
        test:
            run: pnpm test
        'warn if no changeset':
            run: |
                pnpm exec changeset status \
                || { 
                    echo "⚠️  WARNING: No Changeset detected. Run 'pnpm exec changeset add' to create one." >&2
                    exit 1
                    }
