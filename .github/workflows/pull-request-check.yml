name: Pull Request Check ðŸ”„
run-name: Pull Request Check ðŸ”„ â€¢ #${{ github.event.pull_request.number }} â€¢ ${{ github.event.pull_request.title }} â€¢ @${{ github.actor }}

on:
    pull_request:
        branches: [main]

concurrency:
    group: 'ci-${{ github.event.pull_request.number || github.ref }}'
    cancel-in-progress: true

jobs:
    quality-gate:
        uses: ./.github/workflows/_quality-gate.yml

    build-review:
        needs: quality-gate
        uses: ./.github/workflows/_build-and-push.yml
        with:
            ref: ${{ github.sha }}
            tag-suffix: pr-${{ github.event.pull_request.number }}
            push: true
            latest: false
